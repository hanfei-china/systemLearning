<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //     给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。

    //  

    // 示例 1:

    // 输入: s = "abcabcbb"
    // 输出: 3 
    // 解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。
    // 示例 2:

    // 输入: s = "bbbbb"
    // 输出: 1
    // 解释: 因为无重复字符的最长子串是 "b"，所以其长度为 1。
    // 示例 3:

    // 输入: s = "pwwkew"
    // 输出: 3
    // 解释: 因为无重复字符的最长子串是 "wke"，所以其长度为 3。
    //      请注意，你的答案必须是 子串 的长度，"pwke" 是一个子序列，不是子串。
    // 示例 4:

    // 输入: s = ""
    // 输出: 0





    function maxStr(str) {
        if (str.length == 0) {
            return 0;
        }
        var len = str.length;
        var res = []; //结果
        var obj = []; //字典
        for (let i = 0; i < len; i++) {
            var zhi = str[i];
            if (obj.indexOf(zhi) < 0) {
                obj.push(zhi);
            } else {
                res.push(obj.length);
                obj = obj.slice(obj.indexOf(zhi) + 1);
                obj.push(zhi);
            }
        }
        //同时要把最后一个窗口的值记录
        res.push(obj.length);
        var max = res[0];
        for (let j = 1; j < res.length; j++) {
            if (res[j] > max) {
                max = res[j];
            }
        }
        return max;
    }
    var str1 = 'abcabcbb'; //3
    var str2 = 'bbbbb'; //1
    var str3 = 'pwwkew'; //3
    var str4 = ''; //0
    var str5 = 'dvdf'; //这个预期为3，之前的代码预期为2---窗口的起始位置移动有问题
    var res1 = maxStr(str1);
    var res2 = maxStr(str2);
    var res3 = maxStr(str3);
    var res4 = maxStr(str4);
    var res5 = maxStr(str5);
    console.log(res1);
    console.log(res2);
    console.log(res3);
    console.log(res4);
    console.log(res5);
</script>

</html>